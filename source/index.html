<title>Joel's Toolkit</title>
<h1>Joel's Toolkit</h1>
<style>
    * { box-sizing:border-box; }
    form {
        display:inline-block;
        border:1px solid #333;
        padding:1em;
        margin:1em;
        background:#ddd;
        max-width:33%;
        max-height:33%;
        overflow:auto;
    }
    form button, form input {
        display:block;
        width:90%;
        margin:0.5em auto;
        padding:0.5em;
    }
    #untiny a { display:block; margin:0.5em }
</style>
<p>
    Simple toolkit built on app-engine, a work in progress.
</p>
<!--
todo:flat design so each tool is like it's own box… plus need to add more tools & write some JS for it…
also wanna make keyboard shortcuts for all of them, probably just qwerty the whole way, each one gets a letter
-->
<form id="untiny" action="/untiny" method="GET">
    <h2>Unshorten URL</h2>
    <input id="untiny-url"  name="url" />
    <button>Unshorten URL</button>
</form>
<script>
document.getElementById('untiny').onsubmit = function (e) {
    e.preventDefault;
    var r = new XMLHttpRequest(),
        url = document.getElementById('untiny-url').value;
    r.open("GET", "/untiny?url="+url, true);
    r.onreadystatechange = function () {
        if (r.readyState != 4 || r.status != 200) return; 
        var link = document.createElement('a');
        link.href = r.responseText;
        link.innerHTML = r.responseText;
        document.getElementById('untiny').appendChild(link);
    };
    r.send(null);
    return false;
}
</script>

<form id="de-encoder">
    <h2>URI encode/decode</h2>
    <input id="codec" />
<button id="codec_btn">URI (en|de)code</button>
</form>
<script>
var codec = document.getElementById('codec');
document.getElementById('de-encoder').onsubmit = function(e){
    e.preventDefault();
    var val = codec.value;
    if(val.indexOf('%')>0){
        codec.value = decodeURIComponent(val);
    }else{
        codec.value = encodeURIComponent(val);
    }
    return false;
}
</script>

<form id="rand-color">
    <h2>Random Color</h2>
<button id="rand-color_btn">random color</button>
</form>
<script>
    var randcolor = document.getElementById('rand-color');
    randcolor.onsubmit = function(e){
        e.preventDefault();
        var color = Math.floor(Math.random()*16777216).toString(16),
            title = document.createElement('h1'),
            first = document.querySelector('#rand-color h1');
        title.innerHTML = '#'+color;
        title.style.backgroundColor = '#'+color;
        title.style.border = "1px solid black";
        title.style.textAlign = "center";
        if(first){
            randcolor.removeChild(first);
        }
        randcolor.appendChild(title);
        return false;
    }
</script>
